/**
 * Contains Duplicate - ハッシュセットによる実装
 *
 * ハッシュセットを使用して重複を検出する効率的なアプローチ。
 *
 * @remarks
 * アルゴリズム:
 * 1. 空のSetを作成して、既に走査した値を記録
 * 2. 各要素について、Setに存在するかチェック
 * 3. 存在すれば重複が見つかったのでtrueを返す
 * 4. 存在しなければSetに追加して次の要素へ進む
 *
 * 時間計算量: O(n)
 * - ループ: 最大n回実行
 * - Set.has(): O(1) - ハッシュテーブルの検索
 * - Set.add(): O(1) - ハッシュテーブルの挿入
 * - 合計: n × (O(1) + O(1)) = O(n)
 *
 * 空間計算量: O(n)
 * - seen Set: 最大n個の要素を格納
 *   - 最良ケース: 最初の2要素が重複の場合 → O(1)
 *   - 最悪ケース: 全て異なる値の場合 → O(n)
 * - ループ変数 num: 1個
 * - 合計: n + 1 → O(n)
 *
 * @internal
 */
export function hashSet(nums: number[]): boolean {
  /** 既に走査した値を記録するハッシュセット */
  // 例: nums = [1, 2, 3, 1] の場合、{1, 2, 3} のように格納される（重複前）
  const seen = new Set<number>();

  // 配列を走査: 各要素について、その値がSetに存在するかチェック
  for (const num of nums) {
    // 既に見た値なら重複が見つかった
    if (seen.has(num)) {
      return true;
    }
    // 見たことのない値なので、Setに追加（後続の要素の重複検出で使用可能になる）
    seen.add(num);
  }

  // 全て異なる値
  return false;
}
